<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>renpay — Payments & Downloads</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&family=Space+Grotesk:wght@500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css?v=20260212-4" />
  </head>
  <body>
    <div id="app">
      <header class="topbar">
        <div class="brand">
          <div class="logo">re</div>
          <div>
            <div class="name">renpay</div>
            <div class="tag">Payments & downloads for real estate media editing</div>
          </div>
        </div>
        <div id="userBadge" class="user-badge hidden"></div>
      </header>

      <main>
        <section id="loginScreen" class="screen">
          <div class="hero">
            <div class="hero-left">
              <h1>Fast payments, safe downloads</h1>
              <p>
                Built for real estate photo, video, and floor plan editing. Manage orders, collect
                card payments, and deliver watermarked previews in one place.
              </p>
              <div class="pill">Payment gateway: PayPal + Leaf credits</div>
              <div class="login-card">
                <h2>Sign in</h2>
                <p>Sign in with email to manage orders and payments.</p>
                <label class="field">
                  <span>Email</span>
                  <input id="loginEmail" type="email" placeholder="name@email.com" />
                </label>
                <button id="btnLogin" class="btn primary">Sign in</button>
                <div class="hint">Subscription required to create orders.</div>
              </div>
            </div>
            <div class="hero-right">
              <div class="preview-card">
                <div class="preview-head">Watermarked preview gallery</div>
                <div class="preview-grid">
                  <div class="preview-img"><span>RENPAY PREVIEW</span></div>
                  <div class="preview-img"><span>RENPAY PREVIEW</span></div>
                  <div class="preview-img"><span>RENPAY PREVIEW</span></div>
                  <div class="preview-img"><span>RENPAY PREVIEW</span></div>
                </div>
              </div>
              <div class="stats">
                <div>
                  <div class="stat-num">2,840+</div>
                  <div class="stat-label">Orders processed</div>
                </div>
                <div>
                  <div class="stat-num">98.7%</div>
                  <div class="stat-label">Successful payments</div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section id="appScreen" class="screen hidden">
          <div class="dashboard">
            <aside class="sidebar">
              <div class="seller">
                <div class="seller-avatar">R</div>
                <div>
                  <div id="sellerName" class="seller-name">User</div>
                  <div id="sellerRole" class="seller-role">Account</div>
                </div>
              </div>
              <nav class="nav">
                <button class="nav-item active" data-tab="overview">Overview</button>
                <button class="nav-item" data-tab="create">Create Order</button>
                <button class="nav-item" data-tab="payments">Payments</button>
              </nav>
              <div class="support">
                <div class="support-title">Feedback</div>
                <div class="support-text">Share a quick note or request.</div>
                <button id="btnOpenFeedback" class="btn ghost">Open feedback form</button>
                <button id="btnLogout" class="btn ghost">Sign out</button>
              </div>
            </aside>

            <section class="content">
              <div id="tab-overview" class="tab active">
                <div class="tab-head">
                  <div>
                    <h2>Overview</h2>
                    <p>All orders waiting for payment or already paid.</p>
                  </div>
                  <div class="tab-head-actions">
                    <button id="btnTopupLeaf" class="btn ghost">Top up Leaf</button>
                    <button id="btnExportOrders" class="btn ghost">Export CSV</button>
                    <button id="btnBulkPay" class="btn primary">Pay selected orders</button>
                  </div>
                </div>
                <div id="statsRow" class="stats-row"></div>
                <div class="order-filter">
                  <input id="orderSearch" type="text" placeholder="Search orders by name, ID, or client..." />
                  <select id="orderStatusFilter">
                    <option value="all">All statuses</option>
                    <option value="unpaid">Unpaid</option>
                    <option value="paid">Paid</option>
                  </select>
                </div>
                <div class="order-table">
                  <div class="order-row order-header">
                    <div></div>
                    <div>Order name</div>
                    <div>Order ID</div>
                    <div>Client ID</div>
                    <div>Quantity</div>
                    <div>Status</div>
                    <div></div>
                  </div>
                  <div id="orderList"></div>
                </div>
              </div>

              <div id="tab-create" class="tab">
                <div class="tab-head">
                  <div>
                    <h2>Create Order</h2>
                    <p>Create one or multiple orders at once.</p>
                  </div>
                </div>
                <div class="form-card">
                  <div class="field">
                    <span>Order name</span>
                    <div id="lineItems"></div>
                    <button id="btnAddLine" class="btn ghost">+ Add order</button>
                  </div>

                  <div class="actions">
                    <button id="btnCreate" class="btn primary">Apply</button>
                  </div>
                </div>
              </div>

              <div id="tab-payments" class="tab">
                <div class="tab-head">
                  <div>
                    <h2>Leaf Wallet</h2>
                    <p>Top-ups and order payments from your Leaf balance.</p>
                  </div>
                  <button id="btnExportPayments" class="btn ghost">Export CSV</button>
                </div>
                <div class="payment-table">
                  <div class="payment-row payment-header">
                    <div>Date</div>
                    <div>Type</div>
                    <div>Description</div>
                    <div>Amount</div>
                    <div>Balance</div>
                  </div>
                  <div id="paymentList"></div>
                </div>
              </div>
            </section>
          </div>
        </section>
      </main>
    </div>

    <div id="galleryModal" class="modal fullscreen hidden">
      <div class="modal-content">
        <div class="modal-head">
          <div>
            <h3 id="galleryTitle">Gallery</h3>
          </div>
          <button id="btnCloseGallery" class="btn ghost">Close</button>
        </div>
        <button id="btnPrevOrder" class="gallery-order-nav prev" aria-label="Previous order">‹</button>
        <button id="btnNextOrder" class="gallery-order-nav next" aria-label="Next order">›</button>
        <div id="galleryGrid" class="gallery-grid"></div>
        <div class="modal-actions">
          <button id="btnDeleteOrder" class="btn ghost danger">Delete order</button>
          <button id="btnPaySingle" class="btn primary">Pay</button>
        </div>
      </div>
    </div>

    <div id="payModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-head">
          <div>
            <h3>Pay for orders</h3>
            <div class="modal-sub">Leaf credits balance</div>
          </div>
          <button id="btnClosePay" class="btn ghost">Close</button>
        </div>
        <div class="pay-grid">
          <label class="field">
            <span>Payment method</span>
            <input type="text" value="Leaf credits" disabled />
          </label>
          <label class="field">
            <span>Rate</span>
            <input type="text" value="1 Leaf = $1.00 USD" disabled />
          </label>
        </div>
        <div id="payTotal" class="pay-total"></div>
        <div id="payBalance" class="pay-total"></div>
        <div id="payNeeded" class="pay-total"></div>
        <div class="modal-actions">
          <button id="btnTopupLeafFromPay" class="btn ghost">Top up Leaf</button>
          <button id="btnConfirmPay" class="btn primary">Pay with Leaf</button>
        </div>
      </div>
    </div>

    <div id="topupModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-head">
          <div>
            <h3>Top up Leaf</h3>
            <div class="modal-sub">PayPal Sandbox checkout (1 Leaf = $1 USD)</div>
          </div>
          <button id="btnCloseTopup" class="btn ghost">Close</button>
        </div>
        <label class="field">
          <span>Leaf amount</span>
          <input id="leafTopupAmount" type="number" min="1" step="0.01" value="20" />
        </label>
        <div id="leafTopupSummary" class="pay-total"></div>
        <div id="paypalTopupContainer" class="paypal-topup-box"></div>
        <div id="paypalTopupHint" class="hint"></div>
      </div>
    </div>

    <div id="lightbox" class="lightbox hidden" aria-hidden="true">
      <button id="btnCloseLightbox" class="lightbox-close" aria-label="Close">×</button>
      <button id="btnPrevLightbox" class="lightbox-nav prev" aria-label="Previous">‹</button>
      <button id="btnNextLightbox" class="lightbox-nav next" aria-label="Next">›</button>
      <div id="lightboxContent" class="lightbox-content">
        <img id="lightboxImg" alt="Preview full" />
      </div>
      <div class="lightbox-footer">
        <div id="lightboxName" class="lightbox-name"></div>
        <div id="lightboxCount" class="lightbox-count"></div>
      </div>
    </div>

    <div id="subModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-head">
          <div>
            <h3>Subscription required</h3>
            <div class="modal-sub">Choose a plan to create and manage orders.</div>
          </div>
          <button id="btnCloseSub" class="btn ghost">Close</button>
        </div>
        <div class="plan-grid">
          <button class="plan-card active" data-plan="monthly">
            <div class="plan-title">Monthly</div>
            <div class="plan-price">$39 / month</div>
            <div class="plan-note">Unlimited orders</div>
          </button>
          <button class="plan-card" data-plan="annual">
            <div class="plan-title">Annual</div>
            <div class="plan-price">$390 / year</div>
            <div class="plan-note">2 months free</div>
          </button>
        </div>
        <div class="hint">Auto-renew subscription via PayPal.</div>
        <div id="paypalSubContainer" class="paypal-topup-box"></div>
        <div id="paypalSubHint" class="hint"></div>
        <div class="modal-actions">
          <button id="btnStartSub" class="btn primary hidden">Start subscription</button>
        </div>
      </div>
    </div>

    <div id="feedbackModal" class="modal hidden">
      <div class="modal-content">
        <div class="modal-head">
          <div>
            <h3>Feedback</h3>
            <div class="modal-sub">Tell us what you need and we will respond by email.</div>
          </div>
          <button id="btnCloseFeedback" class="btn ghost">Close</button>
        </div>
        <div class="feedback-options">
          <button class="chip" data-topic="Payment issue">Payment issue</button>
          <button class="chip" data-topic="Download issue">Download issue</button>
          <button class="chip" data-topic="Request features">Request features</button>
          <button class="chip" data-topic="Other">Other</button>
        </div>
        <div class="feedback-grid">
          <label class="field">
            <span>Email</span>
            <input id="feedbackEmail" type="email" placeholder="name@email.com" />
          </label>
          <label class="field">
            <span>Message</span>
            <textarea id="feedbackMessage" rows="4" placeholder="Tell us what you need"></textarea>
          </label>
        </div>
        <div class="modal-actions">
          <button id="btnFeedback" class="btn primary">Submit feedback</button>
        </div>
      </div>
    </div>

    <script src="app.js?v=20260212-8"></script>
  </body>
</html>
